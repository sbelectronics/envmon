prometheus:
  alertmanager:
    persistentVolume:
      enabled: true
      storageClass: manual-prom-alertmanager
  server:
    persistentVolume:
      enabled: true
      storageClass: manual-prom
    service:
      type: NodePort
      nodePort: 31301
  serverFiles:
    alerts: {}
    rules: {}

    prometheus.yml:
      rule_files:
        - /etc/config/rules
        - /etc/config/alerts

      scrape_configs:
        # envmon1
        - job_name: 'envmon1'
          metrics_path: /metrics
          scrape_interval: 10s
          static_configs:
            - targets:
              - 198.0.0.247:8000

        - job_name: 'envmon2'
          metrics_path: /metrics
          scrape_interval: 10s
          static_configs:
            - targets:
              - 198.0.0.249:8000

grafana:
  adminUser: admin
  adminPassword: myadminpassword
  service:
    type: NodePort
    nodePort: 31300
  sidecar:
    dashboards:
      enabled: true
      label: grafana_dashboard
  datasources:
    datasources.yaml:
      apiVersion: 1
      datasources:
        - name: Prometheus
          type: prometheus
          url: http://promgraf-prometheus-server.default.svc.cluster.local
          access: proxy
          isDefault: true
